#include <QApplication>
#include <QTextCodec>
#include <QDir>
#include "MainWindow.hpp"
#include "BarChart.hpp"
#include "ImageItem.hpp"

int main(int argc,char *argv[]) {
    QApplication app(argc,argv);

    {
        QTextCodec::setCodecForLocale(QTextCodec::codecForName(LOCAL_CODEC_));
        QDir::addSearchPath("images",app.applicationDirPath()+"/Images");
        QDir::addSearchPath("images",BUILD_PATH_);
        QDir::addSearchPath("images",BUILD_PATH_"/../Images");
    }

    MainWindow window;
    window.addImage(QImage("images:000000"))->setTitle("a");
    window.addImage(QImage("images:000001"))->setTitle("b");
    window.addBarChart(QColor(200,20,30,50),{
        0.780278746601145,	0.559125624390365,	0.483816198649898,	0.4577747476341,	0.915970954388302,	0.115114828495758,	0.964658706975782,	0.303775408265224,	0.928462182064212,	0.884297944679557,	0.712907442555611,	0.18727928161501,	0.495329419157416,
        0.657488631114101,	0.188818700773795,	0.527534752962325,	0.714780913925057,	0.0695719835602563,	0.425105082851014,	0.949443375073513,	0.741793707003447,	0.322246657716888,	0.0686843159621864,	0.103506772211726,	0.553602605675741,	0.39739296652832,
        0.791239915179699,	0.426211650140241,	0.449446290717267,	0.83409357231769,	0.378621789994498,	0.164321155044815,	0.299195025486763,	0.816881675262447,	0.149131570093618,	0.555547777604688,	0.458764059169086,	0.0483047012257793,	0.644757336880197,
        0.629663701920368,	0.898715761050969,	0.0106629286457326,	0.0239598244840082,	0.472454864021464,	0.279681620925887,	0.406661701421197,	0.914064176906453,	0.10764561275737,	0.782054979324737,	0.416916910516901,	0.896564721962145,	0.610129850621177,
        0.470255390224192,	0.686729638274921,	0.79470934949397,	0.457457539463584,	0.687707305329023,	0.731664378304457,	0.0882304050244973,	0.714640885871541,	0.0120707443621408,	0.619752014598596,	0.724800237590049,	0.818882390103215,	0.0168715534971955,
        0.781974716455341,	0.933807315796808,	0.838307721610635,	0.897815766728925,	0.0605247192451461,	0.143588219711276,	0.0311261059950646,	0.193388064400447,	0.29904569301768,	0.000204380896643541,	0.83291530717045,	0.675734494918507,	0.227009803795836,
        0.870942748140379,	0.286367811132439,	0.230222289617566,	0.400311216168264,	0.206464254135637,	0.735290982227378,	0.511795977281519,	0.365268416655348,	0.366036470931708,	0.189995388922692,	0.0582813324986031,	0.299225107727278,	0.864504951064955,
        0.918718881940485,	0.900760505298844,	0.368261636125447,	0.575611455483524,	0.949563407705671,	0.650084896068676,	0.721067135945626,	0.174409123796488,	0.0230237850138617,	0.511116096124351,	0.831575054891152,	0.771673322025388,	0.46716766545606,
        0.238265638398381,	0.435243884693244,	0.442125102886401,	0.448161547453562,	0.585238823145792,	0.894790221800781,	0.687597754662924,	0.992478010788228,	0.99459434741716,	0.576045437726233,	0.114706510905558,	0.141123951055116,	0.223167796431976,
        0.449534854424611,	0.612633468525263,	0.594850489862797,	0.167505199589774,	0.881099847004048,	0.210230168799467,	0.931145089667539,	0.546081230346757,	0.537282064439491,	0.0237389749798178,	0.586006484590759,	0.312690793234401,	0.0873954089057618,
        0.861476861758093,	0.291503588029395,	0.578355009727073,	0.830598767266514,	0.776583496499756,	0.394265805196618,	0.284063451741963,	0.359961005798314,	0.68172746360002,	0.603189161992432,	0.783846505272295,	0.671483476546595,	0.0221614498029276,
        0.73641447076574,	0.459565286784919,	0.575596901934564,	0.617566633011744,	0.565266107617899,	0.180184248335457,	0.180146473135109,	0.491054349541887,	0.187446598536265,	0.481125738154456,	0.601593435496918,	0.688244859971275,	0.799333295290157,
        0.0323452759846115,	0.736549839357986,	0.634079084359607,	0.379904497692662,	0.920634164775466,	0.568673205171068,	0.57250386640695,	0.896857094676889,	0.427010504098116,	0.159733182181037,	0.0480631133753709,	0.33037642859814,	0.601493609120953,
        0.134091322731487,	0.504464142149581,	0.736240102129133,	0.163846807418851,	0.66090376947504,	0.155263476983882,	0.874208901854685,	0.837420330707231,	0.347081586439132,	0.542425204600907,	0.989504608001542,	0.123360107845099,	0.847629197920242,
        0.0762854700346899,	0.107796155143728,	0.0735452076964008,	0.0371693167697427,	0.352988366657888,	0.199450938640943,	0.441962184072941,	0.999631720657964,	0.827101914213574,	0.0548737792328096,	0.690019315408153,	0.527288172265014,	0.676903637010557,
        0.526175790486928,	0.755043181534026,	0.496492767060493,	0.150428569476267,	0.526759630537773,	0.962193554814788,	0.98185855134966,	0.996885094367253,	0.47325852176725,	0.151273811453876,	0.529702537198217,	0.907978621506493,	0.104613512825403,
        0.338124848671389,	0.723699959908661,	0.896801888947473,	0.0602605180689009,	0.606055238079958,	0.818064803307787,	0.0186165188572074,	0.984409337906997,	0.120655564447599,	0.0914210175544495,	0.320911234417889,	0.601911129697689,	0.769959781482776,
        0.299007586379157,	0.55488613429609,	0.448023119843495,	0.00799776953367193,	0.848411028875963,	0.493792633710135,	0.682838454170437,	0.252842309690872,	0.511216448682827,	0.0897612452758491,	0.436361446853214,	0.630142963331098,	0.770171825097666,
        0.780278746601145,	0.559125624390365,	0.483816198649898,	0.4577747476341,	0.915970954388302,	0.115114828495758,	0.964658706975782,	0.303775408265224,	0.928462182064212,	0.884297944679557,	0.712907442555611,	0.18727928161501,	0.495329419157416,
        0.780278746601145,	0.559125624390365,	0.483816198649898,	0.4577747476341,	0.915970954388302,	0.115114828495758,	0.964658706975782,	0.303775408265224,	0.928462182064212,	0.884297944679557,	0.712907442555611,	0.18727928161501,	0.495329419157416,
    })->setTitle("c");
    window.show();

    return app.exec();
}
